<!DOCTYPE html>
<html>
<head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js">
    </script>
    <script>
        $(document).ready(function() {
            $("button").click(function() {
                $("#output").empty();

                var percentage = parseInt($("#percentage").val());
                var amount = parseInt($("#amount").val());
                var interest = parseInt($("#interest").val());
                var duration = parseInt($("#duration").val());
                var apreciation = parseInt($("#apreciation").val());
                var rent = parseInt($("#rent").val());

                var total_value = amount * (100/percentage) - amount;
                var monthly_interest_rate = interest/100/12;
                var total_payments = 12 * duration;
                var term1 = Math.pow(1 + monthly_interest_rate, total_payments) - 1;
                var term2 = monthly_interest_rate * Math.pow(1 + monthly_interest_rate, total_payments);
                var monthly_payment = total_value / term1 * term2;
                var end_value = Math.pow((100 + apreciation)/100, duration) * total_value;

                $("#output").append("Monthly loan payment: " + monthly_payment.toFixed(2) + "<br>");
                $("#output").append("Net monthly income: " + (rent - monthly_payment).toFixed(2) + "<br>");
                $("#output").append("Apreciation on first month: " + (Math.pow((100 + apreciation)/100, 1/12) * total_value - total_value).toFixed(2) + "<br>");
                $("#output").append("Average apreciation per month: " + ((end_value - total_value)/total_payments).toFixed(2) + "<br>");
                $("#output").append("Average monthly income including apreciation: " + (rent - monthly_payment + (end_value - total_value)/total_payments).toFixed(2) + "<br>");
                $("#output").append("Final asset value " + end_value.toFixed(2) + "<br>");
            });
        });
    </script>
    <title>amIMakingMoney</title>
</head>

<script>

</script>

<body>
<form>
    <label>Down Payment Percentage:</label><br>
    <input id="percentage" type="number" value=20><br>
    <label >Down Payment Amount:</label><br>
    <input id="amount" type="number" value=25000><br>
    <label >Loan Interest Rate:</label><br>
    <input id="interest" type="number" value=6><br>
    <label >Loan Duration in Years:</label><br>
    <input id="duration" type="number" value=20><br>
    <label >Expected Yearly Apreciation:</label><br>
    <input id="apreciation" type="number" value=4><br>
    <label >Monthly rent:</label><br>
    <input id="rent" type="number" value=280><br>
</form><br>

<button type="button">Calculate</button>

<div id="output"></div>

</body>

</html>
